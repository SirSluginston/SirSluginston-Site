<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SirSluginston Admin Home</title>
  <link rel="stylesheet" href="SirSluginston-SharedUI/Header/header.css">
  <link rel="stylesheet" href="SirSluginston-SharedUI/NavigationBar/navigation-bar.css">
  <link rel="stylesheet" href="SirSluginston-SharedUI/Body/body.css">
  <link rel="stylesheet" href="SirSluginston-SharedUI/Footer/footer.css">
  <link rel="stylesheet" href="SirSluginston-SharedUI/variables.css">
  <link rel="stylesheet" href="SirSluginston-SharedUI/SharedUI-border.css">
  <link rel="stylesheet" href="SirSluginston-SharedUI/ThemeToggle/theme-toggle.css">
  <link rel="stylesheet" href="SirSluginston-SharedUI/Hero/hero.css">
  <style>
    body { background: var(--color-bg); margin: 0; color: var(--color-text); }
    .main-container {
      width: 100%;
      max-width: none;
      margin: 0 auto;
      background: var(--color-bg);
      color: var(--color-text);
      /* border, border-radius, and box-shadow removed for SharedUI consistency */
      padding: 2.5rem 1rem 0.5rem 1rem;
    }
    #footer-container {
      margin: 0 !important;
      padding: 0 !important;
    }
  </style>
</head>
  <body style="min-height: 100vh; display: flex; flex-direction: column; margin: 0;">
    <div class="sharedui-outer-border" style="flex: 1 0 auto; display: flex; flex-direction: column; min-height: 100vh;">
      <div id="header-container"></div>
      <div id="site-navbar"></div>
      <div id="hero-container"></div>
      <div class="main-container" style="flex: 1 0 auto;">
        <div style="max-width: 600px; margin: 3em auto 2em auto; text-align: left; background: var(--color-bg); border-radius: 1em; box-shadow: 0 2px 12px var(--color-accent); padding: 2em;">
          <h2 style="color: var(--color-primary); text-align: center; font-style: italic;">A creative umbrella for bold ideas</h2>
          <p>
            Welcome to the dignified, copper-orange and royal purple world of SirSluginston Co—the whimsical, witty, and efficient brand behind a constellation of personal projects. Here, modular design meets playful professionalism, and every venture is incubated under the crown of innovation.<br><br>
            Whether you’re exploring the lore, browsing the latest experiments, or just enjoying the debonair gastropod aesthetic, you’re in good company. This is a place for clever solutions, clean design, and a touch of royal flair.
          </p>
        </div>
        <div style="text-align: center; margin-top: 2em;">
          <a class="ss-link-fancy" href="projects.html">Explore Projects</a>
          &nbsp;|&nbsp;
          <a class="ss-link-fancy" href="about.html">Learn more about our story</a>
        </div>
        <style>
          .ss-link-fancy {
            color: var(--color-primary);
            font-weight: bold;
            text-decoration: underline;
            transition: color 0.2s, background 0.2s;
            padding: 0.2em 0.5em;
            border-radius: 0.3em;
          }
          .ss-link-fancy:hover, .ss-link-fancy:focus {
            color: var(--color-accent);
            background: var(--color-secondary);
            outline: none;
          }
          .ss-link-fancy:active {
            color: var(--color-secondary);
            background: var(--color-accent);
          }
        </style>
      </div>
      <div id="footer-container" style="flex-shrink: 0;"></div>
    </div>
  <script src="SirSluginston-SharedUI/sharedui.js"></script>
  <script src="SirSluginston-SharedUI/Hero/hero.js"></script>
  <script src="SirSluginston-SharedUI/ThemeToggle/theme-toggle.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      var checkAndLoadNavbar = function() {
        var container = document.getElementById('site-navbar') || document.getElementById('navbar-container');
        if (container) {
    var script = document.createElement('script');
    script.src = 'SirSluginston-SharedUI/NavigationBar/navigation-bar.js';
    document.body.appendChild(script);
        } else {
          setTimeout(checkAndLoadNavbar, 50);
        }
      };
      checkAndLoadNavbar();
    });
  </script>
  <script type="module">
    import { projects } from './projects-config.js';
    const projectKey = 'sirsluginston-site';
    const pageKey = 'home';

    const project = projects.find(p => p.projectKey === projectKey);
    const page = project?.pages?.find(pg => pg.pageKey === pageKey);
    if (!project || !page) {
      console.error('Missing project/page config', { projectKey, pageKey });
    } else {
      const navbarLinks = (project.pages || [])
        .filter(p => p.inNavbar)
        .map(p => ({ href: p.href, text: p.text }));

      const config = {
        projectTitle: project.projectTitle,
        projectTagline: project.projectTagline,
        pageTitle: page.pageTitle,
        pageTagline: page.pageTagline,
        hasHeader: page.hasHeader !== false,
        hasNavbar: page.hasNavbar !== false,
        hasHero: page.hasHero !== false,
        hasBody: page.hasBody !== false,
        hasFooter: page.hasFooter !== false,
        navbar: { links: navbarLinks }
      };

      if (window.SharedUILib) {
        const branding = {
          projectLogoUrl: 'SirSluginston-SharedUI/Assets/Images/SirSluginston_Logo_Original.JPG',
          projectTitle: config.projectTitle,
          projectTagline: config.projectTagline
        };
        // Inject global config for navbar.js
        // Sort pages by navbarOrder for correct navbar display
        const navbarPages = (project.pages || [])
          .filter(pg => pg.inNavbar)
          .sort((a, b) => Number(a.navbarOrder) - Number(b.navbarOrder));
        window.SharedUIConfig = {
          navbarLinks: navbarPages.map(pg => ({ href: pg.href, text: pg.text, pageKey: pg.pageKey })),
          pages: navbarPages.map(pg => ({ key: pg.pageKey, pageTitle: pg.pageTitle, href: pg.href })),
          slug: projectKey,
          projectTitle: config.projectTitle
        };
        console.log('[DEBUG][SharedUIConfig]', window.SharedUIConfig);
        window.SharedUILib.applyBranding?.(branding);
        if (config.hasHeader) window.SharedUILib.injectHeader(branding);
        if (config.hasNavbar) window.SharedUILib.injectNavbar(config);
        if (config.hasHero && window.SharedUIHero?.inject) {
          const heroContainer = document.getElementById('hero-container');
          window.SharedUIHero.inject(heroContainer, config.pageTitle, config.pageTagline);
        }
        if (config.hasBody && window.SharedUILib.injectBody) window.SharedUILib.injectBody(config);
        if (config.hasFooter) window.SharedUILib.injectFooter(branding);
      }
    }
  </script>
